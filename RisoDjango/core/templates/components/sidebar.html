{% load static %}
<aside id="sidebar"
       class="fixed inset-y-0 left-0 z-40 bg-slate-900 text-white overflow-hidden transition-all duration-300 ease-in-out"
       data-collapsed="{{ collapsed|default:'false' }}"
       style="width: 16rem;">

  <button id="toggleSidebar" type="button" class="absolute top-3 right-3 z-50 bg-slate-700 hover:bg-slate-600 text-white rounded-full p-2 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all">
    <span class="sr-only">Alternar menu</span>
    <i id='close-btn' data-lucide="chevron-left" class="w-5 h-5"></i>
    <i id='open-btn' data-lucide="chevron-right" class="w-5 h-5"></i>
  </button>

  <div class="flex items-center justify-center h-16 px-4 bg-slate-800">
    <div id="sidebar-title" class="flex items-center space-x-3 overflow-hidden">
      <div class="bg-transparent p-0 rounded-lg shrink-0 flex items-center justify-center" style="width: 44px; height: 44px;">
        <img src="{% static 'assets/images.png' %}" alt="Logo Riso" class="object-contain" style="max-width: 44px; max-height: 44px;" id="sidebar-logo">
      </div>
      <div class="transition-all duration-200 origin-left">
        <h1 class="text-lg font-bold whitespace-nowrap">Riso</h1>
        <p class="text-xs text-slate-300 whitespace-nowrap">Sistema de Gestão</p>
      </div>
    </div>
  </div>

  <nav class="mt-6 space-y-2 px-2">
    {% with request.resolver_match.url_name as active %}

    <a href="{% url 'dashboard' %}"
       class="grid grid-cols-[2.5rem_1fr] items-center px-3 py-3 rounded-lg transition-all hover:bg-slate-800 {% if active == 'dashboard' %}bg-orange-500 text-white{% else %}text-slate-300{% endif %}">
      <div class="flex items-center justify-center w-6 h-6">
        <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
      </div>
      <span class="sidebar-label">Dashboard</span>
    </a>

    <a href="{% url 'listar_clientes' %}"
       class="grid grid-cols-[2.5rem_1fr] items-center px-3 py-3 rounded-lg transition-all hover:bg-slate-800 {% if active == 'listar_clientes' %}bg-orange-500 text-white{% else %}text-slate-300{% endif %}">
      <div class="flex items-center justify-center w-6 h-6">
        <i data-lucide="users" class="w-5 h-5"></i>
      </div>
      <span class="sidebar-label">Clientes</span>
    </a>


    <a href="{% url 'listar_veiculos' %}"
       class="grid grid-cols-[2.5rem_1fr] items-center px-3 py-3 rounded-lg transition-all hover:bg-slate-800 {% if active == 'listar_veiculos' %}bg-orange-500 text-white{% else %}text-slate-300{% endif %}">
      <div class="flex items-center justify-center w-6 h-6">
        <i data-lucide="car" class="w-5 h-5"></i>
      </div>
      <span class="sidebar-label">Carros</span>
    </a>

    <a href="{% url 'listar_servicos' %}"
       class="grid grid-cols-[2.5rem_1fr] items-center px-3 py-3 rounded-lg transition-all hover:bg-slate-800 {% if active == 'listar_servicos' %}bg-orange-500 text-white{% else %}text-slate-300{% endif %}">
      <div class="flex items-center justify-center w-6 h-6">
        <i data-lucide="wrench" class="w-5 h-5"></i>
      </div>
      <span class="sidebar-label">Ordens de Serviço</span>
    </a>

    {% endwith %}
  </nav>

  <div class="absolute bottom-4 left-4 right-4">
    <a href="{% url 'logout' %}"
       class="grid grid-cols-[2.5rem_1fr] items-center px-4 3y-2 hover:bg-slate-800 text-slate-300 rounded">
      <div class="flex items-center justify-center w-6 h-6">
        <i data-lucide="log-out" class="h-5 w-5"></i>
      </div>
      <span class="sidebar-label">Sair</span>
    </a>
  </div>
</aside>
